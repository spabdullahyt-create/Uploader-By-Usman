<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HTML Uploader</title>
<style>
body { font-family: Arial; max-width: 600px; margin: 40px auto; }
button { padding: 10px 20px; cursor: pointer; margin-top: 10px; }
input { width:100%; padding:8px; margin-top:5px; }
#status { margin-top: 20px; }
#output { word-break: break-word; margin-top: 10px; }
</style>
</head>
<body>

<h2>Upload HTML â†’ Permanent Link</h2>
<input type="file" id="fileInput" accept=".html"><br><br>
<button onclick="upload()">Upload</button>
<p id="status"></p>
<div id="output"></div>

<script>
async function upload() {
    const file = document.getElementById('fileInput').files[0];
    if (!file) return alert('Please select a file.');

    document.getElementById('status').innerText = 'Uploading...';

    const form = new FormData();
    form.append('file', file);

    try {
        const res = await fetch('/api/upload', { method: 'POST', body: form });
        const data = await res.json();

        if (data.url) {
            document.getElementById('status').innerText = 'Upload successful!';
            document.getElementById('output').innerHTML = `<a href="${data.url}" target="_blank">${data.url}</a>`;
        } else {
            document.getElementById('status').innerText = 'Upload failed.';
            console.error(data);
        }
    } catch (err) {
        document.getElementById('status').innerText = 'Upload failed.';
        console.error(err);
    }
}
</script>

</body>
</html>
